(()=>{"use strict";document.addEventListener("DOMContentLoaded",(function(){t.init()}));const t={init:function(){this.holder=document.querySelectorAll(".qi-block-graphs"),this.holder.length&&[...this.holder].map((e=>{t.initItem(e)}))},getRealCurrentItem:function(t){return"string"==typeof t&&""!==t&&(t=qiBlocksEditor.qodefGetCurrentBlockElement.get(t)),t},initItem:function(e,o){if(!(e=t.getRealCurrentItem(e)))return;const i="object"!=typeof qiBlocksEditor?qiBlocks:qiBlocksEditor;o&&e.classList.remove("qodef--init"),i.qodefIsInViewport.check(e,(()=>{if(e.classList.contains("qodef--init")||t.initiateGraph(e,o),"mount"===o){qiBlocksEditor.qodefGetCurrentBlockElement.getCurrentDocument().body.addEventListener("qi_frame_resized",(()=>{t.initiateGraph(e,o)}))}}))},initiateGraph:function(e,o){let i=e.querySelector("canvas"),a=Chart.getChart(i),r=t.generateChartData(e);o&&"object"==typeof a&&a.destroy(),new Chart(i,r),e.classList.add("qodef--init")},generateChartData:function(t){let e=t.getAttribute("data-type");e="true"===e?"line":"bar";let o=JSON.parse(t.getAttribute("data-ticks"))||void 0,i=JSON.parse(t.getAttribute("data-fill")),a=JSON.parse(t.getAttribute("data-linear"))||void 0,r=JSON.parse(t.getAttribute("data-values"))||void 0,d=JSON.parse(t.getAttribute("data-item-labels"))||void 0,n=JSON.parse(t.getAttribute("data-labels"))||void 0,l=JSON.parse(t.getAttribute("data-background-colors"))||void 0,s=JSON.parse(t.getAttribute("data-hover-background-colors"))||void 0,g=JSON.parse(t.getAttribute("data-border-colors"))||void 0,c=JSON.parse(t.getAttribute("data-hover-border-colors"))||void 0,b=parseFloat(t.getAttribute("data-border-width"))||void 0,u=parseFloat(t.getAttribute("data-hover-border-width"))||void 0,p=parseFloat(t.getAttribute("data-bar-size"))||void 0,v=parseFloat(t.getAttribute("data-cat-size"))||void 0,h=t.getAttribute("data-enable-legend")||void 0,f=t.getAttribute("data-legend-position")||void 0,A=t.getAttribute("data-legend-alignment")||void 0,k=parseFloat(t.getAttribute("data-legend-bar-width"))||void 0,m=parseFloat(t.getAttribute("data-legend-bar-height"))||void 0,y=parseFloat(t.getAttribute("data-legend-bar-margin"))||void 0,C=t.getAttribute("data-legend-label-color")||void 0,q=t.getAttribute("data-legend-label-font")||void 0,B=parseFloat(t.getAttribute("data-legend-label-font-size"))||void 0,S=t.getAttribute("data-legend-label-font-weight")||void 0,L=[];return h="true"===h,r.forEach((function(t,e){let o={};o.data=r[e].split(",")||void 0,o.label=d[e]||void 0,o.backgroundColor=l[e]||void 0,o.hoverBackgroundColor=s[e]||void 0,o.borderColor=g[e]||void 0,o.hoverBorderColor=c[e]||void 0,o.borderWidth=b||void 0,o.hoverBorderWidth=u||void 0,o.pointBackgroundColor="rgba(0,0,0,0)",o.pointBorderColor="rgba(0,0,0,0)",o.pointHoverBackgroundColor="rgba(0,0,0,0)",o.pointHoverBorderColor="rgba(0,0,0,0)",o.cubicInterpolationMode="default",o.fill=i[e],o.barPercentage=p||void 0,o.categoryPercentage=v||void 0,o.tension=a[e]||void 0,L.push(o)})),"object"==typeof qiBlocks&&qiBlocks.windowWidth<=680&&(h=!1),{type:e,data:{labels:n,datasets:L},options:{responsive:!0,aspectRatio:1.7,hover:{mode:"nearest",intersect:!0},plugins:{legend:{display:h,position:f,align:A,labels:{boxWidth:k,boxHeight:m,padding:y,color:C,font:{family:q,size:B,weight:S}}},tooltip:{mode:"nearest",intersect:!1,titleFont:{size:13},displayColors:!1,cornerRadius:5,caretSize:6}},scales:{x:{display:!0,scaleLabel:{display:!0},ticks:{color:"#c4c4c4",font:{family:'"DM Sans"',size:16},padding:10},grid:{color:"#dbdbdb",tickLength:30}},y:{display:!0,scaleLabel:{display:!0},suggestedMax:o.max,suggestedMin:o.min,ticks:{stepSize:o.step,color:"#c4c4c4",font:{family:'"DM Sans"',size:16},padding:10},gridLines:{color:"#dbdbdb",tickMarkLength:30}}}}}}}})();